local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Anti Inertia",
   Icon = 0,
   LoadingTitle = "Anti Inertia",
   LoadingSubtitle = "Loading...",
   Theme = "Amethyst",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "AntiInertia"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = false,
   KeySettings = {
      Title = "Key System",
      Subtitle = "Key System",
      Note = "No key needed",
      FileName = "Key",
      SaveKey = false,
      GrabKeyFromSite = false,
      Key = {""}
   }
})

local MainTab = Window:CreateTab("Anti Inertia", 4483362458)
local MainSection = MainTab:CreateSection("Inertia Control")

getgenv().AntiInertia = false
getgenv().InertiaStrength = 1

local AntiInertiaToggle = MainTab:CreateToggle({
   Name = "Anti Inertia",
   CurrentValue = false,
   Flag = "AntiInertia",
   Callback = function(Value)
      getgenv().AntiInertia = Value
      
      local Player = game.Players.LocalPlayer
      local Character = Player.Character or Player.CharacterAdded:Wait()
      local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
      local Humanoid = Character:WaitForChild("Humanoid")
      
      if Value then
         local BodyVelocity = Instance.new("BodyVelocity")
         BodyVelocity.Name = "AntiInertiaVelocity"
         BodyVelocity.MaxForce = Vector3.new(0, 0, 0)
         BodyVelocity.Velocity = Vector3.new(0, 0, 0)
         BodyVelocity.Parent = HumanoidRootPart
         
         getgenv().InertiaConnection = game:GetService("RunService").Heartbeat:Connect(function()
            if getgenv().AntiInertia and Character and HumanoidRootPart and Humanoid then
               local moveDirection = Humanoid.MoveDirection
               local currentVelocity = HumanoidRootPart.Velocity
               
               if moveDirection.Magnitude > 0 then
                  local desiredDirection = moveDirection * Humanoid.WalkSpeed
                  local force = (getgenv().InertiaStrength / 15) * 100000
                  
                  BodyVelocity.MaxForce = Vector3.new(force, 0, force)
                  BodyVelocity.Velocity = Vector3.new(desiredDirection.X, 0, desiredDirection.Z)
               else
                  BodyVelocity.MaxForce = Vector3.new(0, 0, 0)
               end
            end
         end)
      else
         if getgenv().InertiaConnection then
            getgenv().InertiaConnection:Disconnect()
         end
         
         if HumanoidRootPart then
            local BV = HumanoidRootPart:FindFirstChild("AntiInertiaVelocity")
            if BV then
               BV:Destroy()
            end
         end
      end
   end,
})

local InertiaStrengthSlider = MainTab:CreateSlider({
   Name = "Response Speed",
   Range = {1, 15},
   Increment = 1,
   Suffix = "",
   CurrentValue = 8,
   Flag = "InertiaStrength",
   Callback = function(Value)
      getgenv().InertiaStrength = Value
   end,
})

local InfoSection = MainTab:CreateSection("Information")

local InfoLabel = MainTab:CreateLabel("Response Speed 1 = Smooth turning")
local InfoLabel2 = MainTab:CreateLabel("Response Speed 15 = Instant turning")
local InfoLabel3 = MainTab:CreateLabel("Higher value = More responsive")

Rayfield:LoadConfiguration()
